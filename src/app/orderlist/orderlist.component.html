<app-header></app-header>
<div class="container">
  <div class="row">

    <div class="col-lg-12 col-md-12 col-sm-12 col-12 order-details">

     <div *ngFor="let order of orderlist">

       <div class="card">

         <div class="data-line">
           <span>Заказ №:</span>
           <span class="info">{{order.id}}  </span>
         </div>
         <div class="data-line">
           <span>Номер:</span>
           <span class="info">{{order.name}}</span>
         </div>
         <div class="data-line">
           <span>Даты:</span>
           <span class="info">{{order.date_begin | date: 'dd.MM.yyyy'}} - {{order.date_end | date: 'dd.MM.yyyy'}}</span>
         </div>
         <div class="data-line">
         <span>Заказчик:</span>
         <span class="info"> {{order.surname+ ' '+order.tname}}</span>
       </div>

         <div class="data-line">
           <span>Телефон:</span>
           <span class="info"> {{order.phone}}</span>
         </div>

         <div class="data-line">
           <span>E-Mail:</span>
           <span class="info"> {{order.email}}</span>
         </div>


             <div class="data-line">
               <span> Сумма, руб. :</span>
               <span class="info">{{order.total_rub}}</span>
             </div>

             <div class="data-line">
               <span> Залог, руб. :</span>
               <span class="info"> {{order.deposit}}</span>
             </div>


         <div class="data-line" *ngIf="order.bitCashless && order.bitCashless.data[0]===1">
           <span>Способ оплаты :</span>
           <span class="info"> Безналичный платеж</span>
         </div>
         <div *ngIf="!order.bitCashless">
           <span>Способ оплаты :</span>
           <span class="info">Электронный платеж</span>
         </div>


         <div class="data-line" *ngIf="order.paysuccess === 0">
           <span>Оплата :</span>
           <span class="info">Платеж не подтвержден</span>
         </div>

         <div class="data-line" *ngIf="order.paysuccess === 1">
           <span>Оплата :</span>
           <span class="info"> Платеж подтвержден</span>
         </div>

         <div class="data-line mt-5">


         <div *ngIf="order.paysuccess === 0">
           <button type="button" class="btn btn-outline-success" (click)="payorder(order.id)">Подтвердить оплату</button>
         </div>

           <button type="button" class="btn btn-outline-danger" (click)="deleteorder(order.id)">Удалить заказ</button>


       </div>

       </div>

</div>
    </div>
  </div>
</div>


<app-footer></app-footer>


<!-- скрытые кнопки нужная для нажатия -->
<button id="openModalButton" [hidden]="true" data-toggle="modal" data-target="#wModal">Open Modal</button>
<button id="closeModalButton" [hidden]="true" data-toggle="modal"data-target="#wModal" class="btn btn-default" data-dismiss="modal">Close</button>
<div id="wModal" class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Вопрос</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{{sQuestion}}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="onYesClick(idorder, stype)">Да</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Нет</button>
      </div>
    </div>
  </div>
</div>
